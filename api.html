<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='icon' href='./images/favicon1.jpg' type='image/x-icon'/>
    <link rel="shortcut icon"  type="image/x-icon"  href="./images/favicon2.jpg"/>
    <link rel="shortcut icon" href="./images/favicon3.jpg" type="image/x-icon"> 
   

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Web</title>
    <link type="text/css" rel="stylesheet" href="menu1.css" /> 
   
</head>
<body>


    <div class="menu_commun"> 
       

        <nav>
            <a href="./index.html">accueil</a>
            <a href="html.html">html</a>
            <a href="css.html">css</a>
            <a href="imc.html">javascript</a>
            <a href="api.html">api</a>
            <a href="page_en_construction.html"> en construction</a>
            <div class="animation start-home"></div>
        </nav>

        <h1>Bienvenue sur le site de navigation du projet continu</h1>
        
        <p>
        <span>Projet continu</span>
        </p>
    </div>

    


    <canvas id="canvasElem" width="900" height="680" style="border:1px solid"></canvas>
  
    <input type="button" value="Submit" onclick="submit()">
  
    <script>
      canvasElem.onmousemove = function(e) {
        let ctx = canvasElem.getContext('2d');
        ctx.lineTo(e.clientX, e.clientY);
        ctx.stroke();
      };
  
      async function submit() {
        let blob = await new Promise(resolve => canvasElem.toBlob(resolve, 'image/png'));
        let response = await fetch('/article/fetch/post/image', {
          method: 'POST',
          body: blob
        });
  
        // le serveur r√©pond avec confirmation et la taille de l'image
        let result = await response.json();
        alert(result.message);
      }
  
    </script>
  </body>
</html>



